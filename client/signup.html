<head>
  <title>Simple Signup Experimentation</title>
</head>
<!-- Very simple HTML at the moment -->
<body>
	<div id="wrap">
		<div class="container">
			<div class="row">
				<div class="span4 offset4">
					{{> header}}
				</div>
			</div>
		</div>
	</div>
		
	<div id="footer">
		<div class="container">
			<p class="muted credit">I am on github <a href="https://github.com/schofld">https://github.com/schofld</a> and this experiment is on <a href="https://github.com/schofld/signup">https://github.com/schofld/signup</a> Follow me and contribute... It's just about learning :)</p>
		</div>
	</div>
</body>

<template name="header">
	<h2 class="text-center">Sign In</h2>
	<hr>
	{{#if currentUser}}
		{{> user_loggedin}}
	{{else}}
		{{> user_loggedout}}
	{{/if}}
</template>

<!-- the Handlebars 'partial' that gets looped to show the user data -->
<template name="profileData">
	<p><strong>{{username}}</strong> has logged in</p>
	<p>My fav color is <strong>{{profile.favcolor}}</strong></p>
	<p>I am in <strong>{{profile.location}}</strong></p>
	<p>A little info about me: <strong>{{profile.bio}}</strong></p>
</template>

<template name="user_loggedin">
	{{#if loggingIn}}
		<a>Logging in...</a>
	{{else}}
		<!-- the user data used to be shown this way
		<p>My fav color is <strong>{{currentUser.profile.favcolor}}</strong></p>
		<p>I am in <strong>{{currentUser.profile.location}}</strong></p>
		-->
		{{#each curuser}}
			{{> profileData}}
		{{/each}}
		</br>
		<div class="controls">
			<input id="bio" type="text" placeholder="Bio">
		</div>
		<button id="update" class="btn" type="submit">Update</button>
		<hr>
		<button id="logout" class="btn" type="submit">Log Out</button>
	{{/if}}
</template>

<template name="user_loggedout">
	<p>Login with your account</p>
	<input class="span4" id="username" type="text" placeholder="username">
	<input class="span4" id="password" type="password" placeholder="password">
	</br>
	<button id="login" class="btn btn-success" type="submit">Sign In</button>
	</br>
	<hr>
	<p>New user? <a id="signup">Sign up now!</a></p>
		{{#if signup}}
			<input id="usernameup" type="text" placeholder="Choose a username">
			<input id="passwordup" type="text" placeholder="Choose a password">
			<input id="favcolor" type="text" placeholder="What is you Fav color?">
			<input id="location" type="text" placeholder="Where are you?">
			</br>
			<button id="createUser" class="btn" type="submit">Create User</button>
		{{/if}}
</template>
